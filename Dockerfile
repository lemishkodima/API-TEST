# Офіційний легкий образ Node
FROM node:20-alpine

# Робоча директорія в контейнері
WORKDIR /app

# Спочатку копіюємо тільки package-файли (для кешу)
COPY package*.json ./

# Встановлюємо залежності
RUN npm install --omit=dev

# Тепер копіюємо весь код
COPY . .

# Змінна середовища (необов'язково, але зручно)
ENV PORT=3000

# Відкриваємо порт усередині контейнера
EXPOSE 3000

# Команда запуску
CMD ["node", "index.js"]
